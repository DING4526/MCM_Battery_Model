# X.X OLED 屏幕功耗建模（Screen Power Consumption Model）

## X.X.1 建模背景与文献基础

在智能手机的系统级能耗分析中，显示屏通常是用户交互状态下的主要能耗来源之一。近年来，**AMOLED（Active Matrix Organic Light-Emitting Diode）** 屏幕已成为主流显示技术，其功耗特性与传统 LCD 屏幕存在本质差异。

已有研究一致指出：**AMOLED 屏幕的功耗高度依赖于显示内容本身**。这是由于 AMOLED 像素采用自发光机制，每个像素的红、绿、蓝子像素在通电后独立发光，不需要统一背光源 [1]。因此，显示内容的亮度与颜色分布将直接决定屏幕的发光能耗水平。

Dong 和 Zhong 在其经典工作中指出，OLED 屏幕的总功耗可自然分解为“**与像素发光相关的内容依赖功耗**”与“**与显示内容无关的基线功耗**”，并通过实验验证了该分解形式在系统级分析中的物理合理性 [1]。随后，Kim 等人在真实智能手机平台上进一步验证了这一思想，表明在应用层和系统层建模中，通过亮度等效对像素级模型进行简化是必要且可行的 [2]。

近年来的工程测量与行业技术报告进一步指出，在 AMOLED 设备中，黑色像素几乎不消耗发光能量，而亮色（尤其是白色）内容会显著提高屏幕功耗；通过系统性地采用深色主题（Dark Mode），在典型使用场景下可实现 **15%–30% 的日常节能效果，在极端对比场景下节能比例甚至可达 60%** [4]。这些结论与学术文献的实验结果高度一致。

基于上述研究，本文在不追求逐像素精细建模的前提下，构建一个**兼顾物理真实性、参数可解释性与工程可操作性的 AMOLED 屏幕功耗模型**。

------

## X.X.2 屏幕功耗的结构分解

参考文献 [1,2] 的建模思想，AMOLED 屏幕在亮屏状态下的功耗可表示为：
$$
P_{\text{screen}}(t) = P_{\text{base}}^{\text{on}}(r) + P_{\text{emit}}(t)
$$
其中：

- $P_{\text{screen}}(t)$：屏幕在时刻 $t$ 的总功耗（W）；
- $P_{\text{base}}^{\text{on}}(r)$：亮屏状态下的屏幕基线功耗（W），主要与显示驱动、扫描电路及刷新率 $r$ 有关；
- $P_{\text{emit}}(t)$：由 AMOLED 像素发光产生的内容相关功耗（W）。

文献 [1] 的像素级实验表明，即使在显示全黑画面时，显示驱动与控制电路仍会产生稳定功耗，该部分正对应于 $P_{\text{base}}^{\text{on}}$。最新的行业测量结果进一步指出，当刷新率从 60 Hz 提升至 90 Hz 或 120 Hz 时，该基线功耗将显著增加，而像素发光机制本身并未发生变化 [4]。

------

## X.X.3 像素发光功耗的等效简化建模

### （1）像素级模型的等效思想

在像素级建模中，AMOLED 屏幕的发光功耗可表示为所有像素 RGB 子像素功耗的叠加 [1]：
$$
P_{\text{emit}} = \sum_{i=1}^{N} \bigl(f(R_i) + h(G_i) + k(B_i)\bigr)
$$
其中 $N$ 为像素总数，$f,h,k$ 分别表示红、绿、蓝子像素的功耗函数。

然而，Dong 和 Zhong 指出，在系统层与应用层分析中，逐像素建模会带来极高的计算复杂度，而其主要作用仅在于刻画**整体亮度水平的变化趋势** [1]。因此，有必要通过空间与亮度维度上的等效平均，对像素功耗模型进行简化。

------

### （2）面积–亮度等效模型

借鉴文献 [1,2] 的思想，本文将 AMOLED 像素发光功耗建模为：
$$
P_{\text{emit}}(t) = A \cdot p_u \cdot u(t)
$$
其中：

- $A$：屏幕有效发光面积（cm²）；
- $p_u$：单位面积、单位归一化亮度下的 AMOLED 发光功耗密度（W/cm²）；
- $u(t)$：显示内容的平均归一化亮度因子，满足 $0 \le u(t) \le 1$。

该模型在物理意义上等价于对像素级模型在空间与颜色维度上的积分平均，能够准确反映以下事实：

- 当显示内容趋近于全黑时，$u(t) \rightarrow 0$，像素发光功耗趋近于零；
- 当显示内容趋近于全白或高亮界面时，$u(t) \rightarrow 1$，像素发光功耗达到最大；
- 屏幕尺寸越大，在相同亮度设置下的发光功耗越高。

Kim 等人的实验结果表明，在固定亮度设置下，AMOLED 显示功耗与平均屏幕亮度呈近似线性关系，从而验证了该等效模型在系统级建模中的合理性 [2]。行业测量同样指出，通过降低整体亮度 10%–15%，即可显著降低屏幕发光功耗 [4]。

------

## X.X.4 刷新率对屏幕基线功耗的影响建模

需要指出的是，**刷新率并不直接影响 AMOLED 像素的发光功耗**。在相同亮度和显示内容下，无论刷新率为 60 Hz、90 Hz 还是 120 Hz，像素单位时间内的平均发光能量基本保持不变 [1,2]。

然而，刷新率会显著影响显示系统中以下部分的功耗：

- 行列扫描与驱动电路；
- 显示控制器（TCON）；
- 显示接口与帧数据传输；
- 显存与相关显示管线活动。

工程测试结果表明，与 60 Hz 相比，90 Hz 模式下的显示基线功耗通常增加约 **10%–15%**，而 120 Hz 模式下可增加 **20%–30%** [4]。因此，本文将刷新率的影响引入屏幕基线功耗项中，建模为：
$$
P_{\text{base}}^{\text{on}}(r)
=
P_{\text{base}}^{60}
\left[1 + \kappa \left(\frac{r}{60}-1\right)\right]
$$
其中：

- $r$：屏幕刷新率（Hz）；
- $P_{\text{base}}^{60}$：60 Hz 下的亮屏基线功耗；
- $\kappa$：刷新率功耗敏感系数，综合文献与工程测量取 $\kappa \in [0.1,\,0.3]$ [4]。

该处理方式与现有 OLED 功耗建模文献保持一致，即将刷新率视为**驱动与控制层面的能耗修正因素**，而非像素发光机制的直接决定因素。

------

## X.X.5 息屏与黑屏的区分建模

（**本节结构保持不变，仅语义与前文一致，此处略去重复说明**）

------

## X.X.6 统一屏幕功耗模型

引入屏幕状态变量：
$$
s(t)=
\begin{cases}
1, & \text{亮屏状态} \\
0, & \text{息屏状态}
\end{cases}
$$
本文最终采用的 AMOLED 屏幕功耗模型为：
$$
\boxed{
P_{\text{screen}}(t)
=
s(t)\Big(
P_{\text{base}}^{\text{on}}(r)
+
A p_u u(t)
\Big)
+
(1-s(t))P_{\text{base}}^{\text{off}}
}
$$
该模型在以下方面与文献和工程结果保持一致：

- 延续了 Dong 和 Zhong 提出的“像素发光功耗 + 基线功耗”结构 [1]；
- 通过亮度等效避免逐像素建模，符合 Kim 等人的系统级功耗估计方法 [2]；
- 正确刻画了黑屏与息屏的物理差异 [3]；
- 将刷新率影响限定在显示驱动功耗层面，与行业技术测量结论一致 [4]。

------

## 表 X.X AMOLED 屏幕功耗模型参数及取值范围

| 参数符号                       | 参数名称                       | 物理含义                                       | 典型取值范围       | 依据与说明                                                   |
| ------------------------------ | ------------------------------ | ---------------------------------------------- | ------------------ | ------------------------------------------------------------ |
| $A$                            | 屏幕有效发光面积               | 实际参与发光的 AMOLED 面板面积                 | **40–55 cm²**      | 对应 6–7 英寸全面屏智能手机；分辨率影响已等效吸收至面积与功耗密度中 [1,2] |
| $p_u$                          | 单位面积、单位亮度发光功耗密度 | AMOLED 在归一化亮度 $u=1$ 下的单位面积发光功耗 | **0.3–1.5 mW/cm²** | 综合 Dong & Zhong 的像素等效模型与 Kim 等实测结果 [1,2]      |
| $u(t)$                         | 平均归一化亮度因子             | 当前显示内容的平均亮度水平                     | **0–1**            | 0 表示全黑内容，1 表示高亮或白色界面；暗色模式显著降低该参数 [1,4] |
| $P_{\text{base}}^{60}$         | 60 Hz 亮屏基线功耗             | 显示驱动、扫描、电源管理等固定功耗             | **50–150 mW**      | AMOLED 亮屏但黑屏状态下的稳定功耗区间 [1–3]                  |
| $r$                            | 屏幕刷新率                     | 显示帧更新频率                                 | **60–120 Hz**      | 主流 AMOLED 设备支持范围                                     |
| $\kappa$                       | 刷新率功耗敏感系数             | 刷新率提升引起的基线功耗增幅系数               | **0.1–0.3**        | 行业测试显示：120 Hz 比 60 Hz 基线功耗高 20–30% [4]          |
| $P_{\text{base}}^{\text{off}}$ | 息屏基线功耗                   | 显示面板关闭后的待机功耗                       | **5–30 mW**        | 显示控制器与传感器的低功耗待机状态 [3]                       |
| $s(t)$                         | 屏幕状态变量                   | 屏幕是否点亮                                   | **0 或 1**         | $s=1$：亮屏；$s=0$：息屏                                     |

------

## 最终模型

$$
P_{\text{screen}}(t)
=
s(t)\Big(
P_{\text{base}}^{60}
\left[1 + \kappa\left(\frac{r}{60}-1\right)\right]
+
A p_u u(t)
\Big)
+
(1-s(t))P_{\text{base}}^{\text{off}}
$$

---

## 参考文献

[1] M. Dong and L. Zhong, *Power Modeling and Optimization for OLED Displays*, IEEE Transactions on Mobile Computing, 2012.

[2] D. Kim, W. Jung, and H. Cha, *Runtime Power Estimation of Mobile AMOLED Displays*, IEEE Embedded Systems Letters, 2013.

[3] J. O. de Sousa et al., *Power Consumption Analysis in LCD and AMOLED Display Technologies for Mobile Devices*, IEEE ICCE, 2025.

[4] DisplayModule, *How To Reduce Power Consumption Of AMOLED Modules*, Industry Technical Report, 2023.



# X.X CPU 功耗建模（Processor Power Consumption Model）

## X.X.1 建模背景与文献基础

在智能手机系统级能耗分析中，中央处理器（CPU）是执行应用逻辑与系统服务的核心计算单元，其功耗水平对整机能耗与电池续航具有重要影响。与显示屏等外设不同，CPU 的瞬时功耗行为受到任务负载、多核调度以及动态电压与频率调节（DVFS）等多种机制的共同作用，在微观时间尺度上具有较强的复杂性。

然而，Zhang 等人在针对多核智能手机处理器的系统性实测研究中指出：**在系统级与应用级时间尺度下，CPU 的功耗行为可以通过状态平均的方式进行有效刻画，而无需显式建模处理器的微架构细节或瞬时频率变化**。其研究表明，CPU 总功耗可自然分解为与负载无关的空载功耗（idle power）以及与 CPU 活跃程度相关的动态功耗（active power），并且这种分解形式能够在保持模型简洁性的同时显著提高功耗估计的准确性 [1]。

基于上述研究结论，本文采用一种**面向系统级能耗分析的简化 CPU 功耗模型**，以 CPU 利用率作为主要驱动变量，刻画 CPU 功耗随负载变化的整体趋势。

------

## X.X.2 CPU 功耗的结构分解

参考 Zhang 等人的建模思想 [1]，CPU 在系统运行过程中的总功耗可表示为以下两部分之和：
$$
P_{\text{cpu}}(t)
=
P_{\text{idle}}
+
P_{\text{active}}(t)
$$
其中：

- $P_{\text{cpu}}(t)$：时刻 $t$ 的 CPU 总功耗；
- $P_{\text{idle}}$：CPU 处于空载或低负载状态时的平均功耗，主要由漏电流及必要的背景电路活动产生；
- $P_{\text{active}}(t)$：CPU 执行计算任务时产生的动态功耗。

该分解方式在物理意义上对应于 CMOS 电路中的静态功耗与动态功耗，也与 Zhang 等人通过实测观察到的功耗状态划分保持一致。

------

## X.X.3 基于利用率的 CPU 功耗建模

### （1）等效利用率建模思想

在多核调度和 DVFS 机制的作用下，单个 CPU 核心的频率、电压及活跃状态会随时间不断变化。Zhang 等人的实验结果表明，在系统级时间尺度下，这些复杂行为对总体功耗的影响可以通过 **CPU 在一段时间内处于活跃状态的比例**进行等效描述。

因此，本文采用 CPU 的**平均利用率**作为刻画其工作负载的核心变量。设：

- $u(t) \in [0,1]$：时刻 $t$ 的 CPU 平均利用率，表示 CPU 在单位时间内处于活跃计算状态的比例。

该变量能够综合反映多核并行度、任务调度以及 DVFS 行为对 CPU 活跃程度的影响。

------

### （2）最终 CPU 功耗模型

综合上述分析，本文采用如下 CPU 功耗模型：
$$
\boxed{
P_{\text{cpu}}(t)
=
P_{\text{idle}}
+
P_{\text{dyn}} \cdot u(t)
}
$$
其中：

- $P_{\text{idle}}$：CPU 的空载功耗；
- $P_{\text{dyn}}$：CPU 在完全活跃状态下相对于空载状态增加的等效动态功耗；
- $u(t)$：CPU 平均利用率。

该模型假定 CPU 的动态功耗与其活跃时间占比近似成正比。这一假设与 Zhang 等人在多核智能手机平台上的实测结果一致，其研究表明该模型在系统级功耗估计中具有良好的准确性与稳定性 [1]。

------

## X.X.4 参数定义与取值范围

为保证模型的可解释性与工程可操作性，本文对 CPU 功耗模型中的参数取值范围进行统一约定。

**表 X.X CPU 功耗模型参数及取值范围**

| 参数符号          | 参数名称     | 物理含义                                 | 典型取值范围  | 依据                                             |
| ----------------- | ------------ | ---------------------------------------- | ------------- | ------------------------------------------------ |
| $P_{\text{idle}}$ | CPU 空载功耗 | CPU 处于 idle 或极低负载状态下的平均功耗 | **50–200 mW** | Zhang 等人对智能手机 CPU idle 功耗的实测分析 [1] |
| $P_{\text{dyn}}$  | 等效动态功耗 | CPU 从空载到高负载状态增加的功耗         | **1–3 W**     | 多核智能手机 CPU 活跃状态功耗区间 [1]            |
| $u(t)$            | CPU 利用率   | CPU 活跃时间占比                         | **0–1**       | 操作系统调度统计                                 |

上述参数均具有明确的系统层或用户层含义，可通过操作系统提供的统计信息或公开实测数据进行估计，避免了对处理器内部微架构参数的依赖。

------

## X.X.5 模型适用性说明

需要指出的是，本文所采用的 CPU 功耗模型主要用于**系统级能耗评估与统计分析**，其目标在于刻画 CPU 功耗随负载变化的整体趋势，而非预测瞬时功耗峰值或指令级能耗行为。在该建模框架下，多核调度、DVFS 及微架构差异等因素的影响均被等效吸收到 CPU 利用率参数中。

这种处理方式在保证模型简洁性的同时，与 Zhang 等人的实验结论保持一致，能够满足后续整机能耗建模、蒙特卡洛仿真及全局敏感性分析的需求。

------

## 参考文献

[1] Y. Zhang, Y. Liu, L. Zhuang, X. Liu, F. Zhao, and Q. Li,
 *Accurate CPU Power Modeling for Multicore Smartphones*,
 IEEE Transactions on Mobile Computing, 2015.



# X.X 无线通信模块功耗建模（Radio Power Consumption Model）

------

## X.X.1 建模背景与文献基础

在移动终端系统级能耗分析中，无线通信接口（Wi-Fi / Cellular）通常是仅次于显示与 SoC 的主要耗能来源之一。与屏幕或处理器不同，无线模块的能耗并不主要由“计算负载”决定，而是受到 **通信状态驻留时间与无线信号环境质量** 的共同影响。

Balasubramanian 等通过对真实移动网络流量与功耗的大规模测量实验指出，即便在数据传输结束后，蜂窝接口仍会维持一段高功耗保持状态（Tail State），该阶段在总能耗中占据显著比例，从而表明无线功耗具有明显的**状态依赖结构** [1]。

Ding 等在后续实验研究中进一步证明，无线信号强度下降会导致发射功率提高与链路重传频率上升，从而显著增加单位时间平均能耗，信号质量与无线功耗之间具有统计显著相关性 [2]。

Zsak 与 Wolff 的跨接口实测结果则表明，在相同应用负载与显示条件下，蜂窝网络接口的平均功耗通常高于 Wi-Fi 接口，说明 **网络制式差异会改变无线模块的功耗层级** [3]。

上述研究共同表明：
 在系统级建模中，无线模块功耗可以通过 **通信状态时间比例 + 网络制式修正 + 信号质量修正** 的结构进行有效刻画，而无需引入底层射频或协议细节。

------

## X.X.2 无线通信状态结构分解

依据文献 [1] 中对移动网络能耗行为的实验观测，无线接口的运行状态可抽象为三种基本模式：

| 状态   | 含义                   | 功耗层级 |
| ------ | ---------------------- | -------- |
| Idle   | 无数据传输但维持连接   | 低       |
| Active | 正在进行数据收发       | 高       |
| Tail   | 传输结束后的连接保持期 | 中高     |

该三态结构源于蜂窝 RRC 状态机制与 Wi-Fi 保持机制的共性抽象，在 4G、5G 与 Wi-Fi 网络环境下均具有适用性。

------

## X.X.3 状态比例加权功耗模型

设在时间区间 $T$ 内三种状态的时间比例分别为：
$$
R_i + R_a + R_t = 1
$$
则无线模块的平均功耗可表示为：
$$
P_{\text{radio}} = R_i P_i + R_a P_a + R_t P_t
$$
其中：

- $R_s$：状态时间比例，由用户行为与应用流量决定；
- $P_s$：对应状态下的平均功耗，由硬件特性与网络条件决定。

该形式本质上是组件级能耗测量研究中广泛采用的加权平均思想 [1]，能够在保持物理合理性的同时显著降低模型复杂度。

------

## X.X.4 网络制式加权修正建模

在真实用户场景中，移动终端通常在 Wi-Fi 与蜂窝网络之间动态切换。
 Zsak 与 Wolff 的实验表明，两种接口在相同任务负载下的功耗层级存在稳定差异 [3]。若仅使用单一制式系数 $\alpha_M$，则难以反映实际用户在一段时间内的混合网络使用行为。

因此，本文采用**时间比例加权的网络制式修正模型**：
$$
\alpha
=
\lambda \alpha_{\text{cell}}
+
(1-\lambda)\alpha_{\text{wifi}}
$$
其中：

- $\lambda$：蜂窝网络使用时间比例，$0 \le \lambda \le 1$；
- $\alpha_{\text{cell}}$：蜂窝网络功耗缩放系数；
- $\alpha_{\text{wifi}}$：Wi-Fi 功耗缩放系数。

典型经验区间为：

- $\alpha_{\text{wifi}} \approx 0.8 \sim 0.9$
- $\alpha_{\text{cell}} \approx 1.0 \sim 1.2$

该处理方式将离散的网络切换行为等效为连续时间加权因子，在保持模型简洁性的同时显著提升用户场景适应性。

------

## X.X.5 信号质量修正建模

Ding 等的实测研究显示，在弱信号条件下，无线接口的单位时间功耗可能上升约 30%–50% [2]。为保持模型简洁性，本文引入统一乘性修正因子：
$$
P_{\text{radio}}^{\text{final}}
=
P_{\text{radio}}^{(M)} (1+\delta)
$$
其中信号等级由用户可感知现象划分：

| 信号条件 | $\delta$ |
| -------- | -------- |
| 强       | 0        |
| 中       | 0.2      |
| 弱       | 0.4      |

该处理方式将复杂的 PHY/MAC 层行为等效吸收为统计修正项，避免引入不可观测变量。

------

## X.X.6 统一无线功耗模型（修正版）

综上，本文最终采用的无线通信模块平均功耗模型为：
$$
\boxed{
P_{\text{radio}}^{\text{final}}
=
(R_i P_i + R_a P_a + R_t P_t)
\cdot
\Big(\lambda \alpha_{\text{cell}} + (1-\lambda)\alpha_{\text{wifi}}\Big)
\cdot
(1+\delta)
}
$$
约束条件：
$$
R_i + R_a + R_t = 1,
\quad
0 \le \lambda \le 1
$$
该模型在结构与文献结论上保持一致：

- 延续了 Balasubramanian 等提出的三态能耗结构与 Tail 机制 [1]；
- 通过信号修正项体现 Ding 等的信号–能耗统计关系 [2]；
- 通过制式系数体现 Zsak 与 Wolff 的接口差异实测结果 [3]；
- 避免逐帧流量与射频参数建模，符合系统级能耗分析的抽象层级。

------

## 表 X.X 无线模块功耗模型参数及取值范围

| 参数                   | 含义            | 典型范围          | 依据     |
| ---------------------- | --------------- | ----------------- | -------- |
| $P_i$                  | Idle 状态功耗   | **50–150 mW**     | [1]      |
| $P_a$                  | Active 状态功耗 | **600–1200 mW**   | [1,3]    |
| $P_t$                  | Tail 状态功耗   | **0.6–0.8 $P_a$** | [1]      |
| $\alpha_{\text{wifi}}$ | Wi-Fi 系数      | **0.8–0.9**       | [3]      |
| $\alpha_{\text{cell}}$ | 蜂窝系数        | **1.0–1.2**       | [3]      |
| $\lambda$              | 蜂窝使用比例    | **0–1**           | 用户统计 |
| $\delta$               | 信号修正因子    | **0–0.4**         | [2]      |

------

## 参考文献

[1] N. Balasubramanian, A. Balasubramanian, A. Venkataramani, *Energy Consumption in Mobile Phones: A Measurement Study*, ACM IMC, 2009.

[2] N. Ding et al., *Characterizing and Modeling the Impact of Wireless Signal Strength on Smartphone Battery Drain*, ACM SIGMETRICS, 2013.

[3] N. Zsak, C. Wolff, *Impact of Video Quality and Wireless Network Interface on Power Consumption of Mobile Devices*, arXiv, 2014.



# X.X GPS 定位模块功耗建模（GPS Power Consumption Model）

## X.X.1 建模背景与文献基础

在现代智能手机系统中，全球卫星定位系统（Global Positioning System, GPS）为导航、位置服务与运动追踪等应用提供关键支撑。然而，与 CPU 或显示模块不同，GPS 模块的功耗并不主要由计算负载或数据吞吐量驱动，而是**由定位功能是否持续启用以及定位过程的时间占比所主导**。

Carroll 与 Heiser 在对多款主流智能手机进行系统级功耗分解测量时发现，GPS 模块在持续定位状态下表现出**近似恒定的单位时间功耗水平**，其能耗贡献在导航等典型使用场景中可占整机功耗的 **10%–20%**，显著高于多数传感器与后台服务 [1]。该研究同时指出，GPS 功耗在系统时间尺度上呈现出明显的“**启用即耗电**”特征，而非随计算复杂度或数据交互强度连续变化。

Paek 等在其关于移动终端定位能耗的研究中进一步表明，GPS 的主要能耗来源于**持续的卫星信号捕获、跟踪与位置解算过程**，而非无线数据通信本身；在定位功能开启期间，其功耗水平在较长时间尺度内保持相对稳定 [2]。该研究还指出，通过降低定位更新频率或间歇性启用定位模块，可以在牺牲有限定位精度的前提下显著降低能耗。

基于上述实证研究的共同结论，后续系统级能耗建模工作通常将 GPS 视为**独立于无线通信接口的传感器类能耗模块**，并采用启用时间比例或等效占空比（duty ratio）进行建模，而不显式引入射频信号强度、多星座制式或协议层细节 [1,2]。

------

## X.X.2 GPS 功耗机理与状态抽象

与 Wi-Fi 或蜂窝通信接口相比，GPS 模块在系统层面具有显著不同的能耗特征，如表 X 所示。

| 特性           | GPS                | 无线通信接口       |
| -------------- | ------------------ | ------------------ |
| 通信方向       | 单向接收           | 双向               |
| 功耗驱动机制   | 卫星跟踪与位置解算 | 发射功率与协议状态 |
| 与数据量相关性 | 弱                 | 强                 |
| Tail 能耗      | 无显著 Tail        | 明显存在           |

Carroll 与 Heiser 的实测结果表明，GPS 在开启状态下不存在类似蜂窝网络的 Tail 机制，其功耗变化主要体现在**是否处于持续定位状态**这一离散层面 [1]。因此，在系统级时间尺度（分钟至小时）下，对 GPS 功耗的刻画可高度抽象为“开启”与“关闭”两种状态，而无需引入复杂的信号或协议状态变量。

------

## X.X.3 极简 Ratio 建模框架

在时间区间 $T$ 内，本文将 GPS 模块抽象为如下二态系统：

| 状态 | 含义                    | 功耗层级 |
| ---- | ----------------------- | -------- |
| Off  | GPS 未启用或休眠        | 极低     |
| On   | GPS 持续定位 / 卫星跟踪 | 中高     |

设 GPS 在区间 $T$ 内处于 On 状态的时间比例为 $r_{\mathrm{on}}$，则其平均功耗可表示为：
$$
P_{\mathrm{gps}}
=
r_{\mathrm{on}} \cdot P_{\mathrm{on}}, \qquad 0 \le r_{\mathrm{on}} \le 1
$$
其中：

- $P_{\mathrm{gps}}$：GPS 模块在系统时间尺度下的平均功耗；
- $P_{\mathrm{on}}$：GPS 处于持续定位状态时的平均功耗常数；
- $r_{\mathrm{on}}$：GPS 启用时间比例。

该 Ratio 模型本质上是一种**时间加权平均功耗模型**。其合理性直接来源于文献中“GPS 在开启状态下功耗近似恒定”的实测结论 [1,2]，从而避免了对瞬时射频行为或定位算法细节的过度建模。

------

## X.X.4 用户行为与模型参数的对应关系

在该模型中，唯一的行为相关参数 $r_{\mathrm{on}}$ 与用户使用场景之间存在直接映射关系：

| 用户行为场景        | $r_{\mathrm{on}}$ 典型区间 |
| ------------------- | -------------------------- |
| 日常社交 / 浏览     | 0 – 0.1                    |
| 打车 / 间歇地图查询 | 0.1 – 0.3                  |
| 长时间导航          | 0.5 – 0.9                  |
| 运动记录 / 骑行     | 0.6 – 1.0                  |

该参数可通过系统级定位使用统计、应用前后台运行时间或场景设定进行估计，具有良好的**可观测性与可解释性**，符合系统级建模的设计目标。

------

## X.X.5 参数取值范围与文献依据

综合 Carroll & Heiser 以及 Paek 等人的实测结果，可为模型参数选取如下合理区间：

| 参数              | 含义             | 典型范围  | 文献依据     |
| ----------------- | ---------------- | --------- | ------------ |
| $P_{\mathrm{on}}$ | 持续定位平均功耗 | 80–200 mW | [1,2]        |
| $r_{\mathrm{on}}$ | 启用时间比例     | 0–1       | 用户行为估计 |

说明如下：

- 文献 [1] 中不同设备的 GPS 功耗测量结果显示，该区间可覆盖主流智能手机硬件；
- 文献 [2] 表明，辅助定位（A-GPS）与多星座支持主要影响定位时延与精度，对系统级平均功耗影响可吸收进 $P_{\mathrm{on}}$；
- 后台低频定位在长时间尺度下可等效表现为较小的 $r_{\mathrm{on}}$。

------

## X.X.6 统一 GPS 功耗模型及系统耦合

综上，本文最终采用如下 GPS 模块系统级功耗模型：
$$
P_{\mathrm{gps}}(t) = r_{\mathrm{on}}(t)\, P_{\mathrm{on}}
$$
该模型具备以下优势：

1. 直接刻画定位启用时间对能耗的主导作用；
2. 避免引入不可观测的射频或卫星参数；
3. 与无线通信模块的 Ratio 建模思想保持形式一致；
4. 可作为独立子模块无缝嵌入整机连续时间能耗模型。

------

## 参考文献

[1] Carroll, A., & Heiser, G. *An Analysis of Power Consumption in a Smartphone*. USENIX Annual Technical Conference, 2010.

[2] Paek, J., Kim, J., & Govindan, R. *Energy-Efficient Rate-Adaptive GPS-Based Positioning for Smartphones*. MobiSys, 2010. 



# X.X 后台功耗建模（Background Power Consumption Model）



## X.X.1 建模背景与实证研究基础

在智能手机日常运行过程中，除用户可直接感知的前台交互行为外，操作系统与应用程序在屏幕关闭（screen-off）或用户非交互状态下仍持续执行大量后台活动，包括系统维护、网络心跳、消息同步以及应用周期性唤醒等。这类活动虽不直接产生用户可感知的功能价值，但在长时间尺度上会对电池寿命产生显著影响，因此在系统级能耗建模中不可忽略。

Carroll 与 Heiser 通过对多款智能手机开展组件级功耗测量指出，即使设备处于非交互状态，系统仍需维持基本运行环境，其功耗远非零值。在典型 Android 系统中，空闲或后台状态下的整机功耗可达数十至数百毫瓦量级，并在全天能量消耗中占据不可忽视的比例 [1]。

进一步地，Chen 等基于 2000 余部 Android 智能手机的长期野外测量（in-the-wild measurement）发现：

- 约 45% 的日均能量消耗发生在屏幕关闭期间；
- 在屏幕关闭状态下，后台应用与系统服务引发的 CPU 唤醒和网络活动贡献了约 30% 的能耗；
- 后台能耗更依赖于任务唤醒持续时间占比，而非瞬时峰值功率水平 [2]。

上述实证结果表明，在系统级能耗建模中，后台功耗既不能被忽略，也不宜过度细化为难以观测的微观过程。更合理的策略是构建以时间占比为核心的抽象模型，在保证物理可解释性的同时提升参数可估计性。

------

## X.X.2 后台功耗机理与系统级抽象

从物理角度看，后台功耗并不对应单一硬件模块，而是多个子系统在后台任务触发时的联合能耗表现，主要包括：

- CPU 从休眠态进入活跃态；
- 内存与缓存子系统被访问；
- 无线接口执行心跳或短时数据同步；
- 操作系统调度与上下文切换开销。

实测结果显示，在“系统被唤醒但无前台交互”的情形下，整机功耗水平相对稳定，其波动主要由后台任务触发频率决定，而非连续负载变化 [1]。因此，在分钟至小时级时间尺度上，可将后台运行状态抽象为两类：

- **Idle（空闲维持态）**：无后台任务触发，仅维持最低系统运行环境；
- **Active（后台活跃态）**：系统被后台任务唤醒，执行计算或通信操作。

这种二状态抽象在保证物理合理性的同时显著降低了建模复杂度。

------

## X.X.3 后台功耗的 Ratio 建模框架

设在时间区间 $T$ 内，系统处于后台活跃态的时间比例为 $r_{bg}$，则后台平均功率可表示为
$$
P_{bg}
= r_{bg} P_{active}
+ (1-r_{bg}) P_{idle},
\quad 0 \le r_{bg} \le 1.
$$
其中：

- $P_{bg}$：后台平均功耗；
- $P_{active}$：后台活跃态平均功耗；
- $P_{idle}$：空闲维持态最低功耗；
- $r_{bg}$：后台活跃时间占比。

该模型本质上是时间加权平均模型（ratio model），与 GPS 与无线通信模块的系统级建模思路一致。其合理性直接来源于文献中“后台能耗由唤醒持续时间主导”的实测结论 [2]，而非经验假设。

------

## X.X.4 参数物理含义与估计方法

### （1）空闲功耗 $P_{idle}$

实测研究表明，在系统完全空闲且无后台任务触发时，设备仍需维持内存、基础调度及通信监听，其功耗通常位于 60–100 mW 区间，可作为后台功耗模型的基线项 [1]。

------

### （2）后台活跃功耗 $P_{active}$

野外测量结果表明，当后台任务触发系统唤醒时，其瞬时功耗水平接近轻度前台交互状态，明显高于纯空闲态 [2]。结合组件级测量结果，可将
$$
P_{active} \in [200, 400]\text{ mW}
$$
视为合理估计区间。

------

### （3）活跃时间比例 $r_{bg}$

该参数综合反映用户应用生态与使用习惯，如通知频率、同步策略及应用数量等。研究显示不同用户间差异显著，但在统计意义上通常落入若干典型区间 [2]。

------

## X.X.5 参数取值范围与文献依据

| 参数         | 含义         | 典型范围   | 文献依据 |
| ------------ | ------------ | ---------- | -------- |
| $P_{idle}$   | 空闲维持功耗 | 60–100 mW  | [1]      |
| $P_{active}$ | 后台活跃功耗 | 200–400 mW | \[1]\[2] |
| $r_{bg}$     | 活跃时间比例 | 0.05–0.30  | [2]      |

一般而言：

- 轻度用户对应较低 $r_{bg}$；
- 社交与即时通讯重度用户对应较高 $r_{bg}$；
- 操作系统节能策略（如 Doze、后台限制）主要通过降低 $r_{bg}$ 发挥作用，而非改变功耗水平本身。

------

## 参考文献

[1] Carroll, A., & Heiser, G. *An Analysis of Power Consumption in a Smartphone.* USENIX ATC, 2010.

[2] Chen, X., et al. *Smartphone Background Activities in the Wild.* ACM MobiCom, 2015.

